# ===========================================
# Test Environment Configuration
# ===========================================
# Usage: docker compose --env-file .env.test up
# Or: ln -sf .env.test .env && docker compose up

# ---- Application ----
SECRET_KEY=test-secret-key-for-automated-testing
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# ---- Frontend (Vite) ----
VITE_API_BASE=http://localhost:8000/api

# ---- Database (SQLite in-memory for fast tests) ----
DATABASE_URL=sqlite:///:memory:

# ---- Logging Configuration (Unified Logging System) ----
# Log level: DEBUG for detailed test output
LOG_LEVEL=DEBUG

# Log format: text for readable test output
LOG_FORMAT=text

# Log file path (optional, useful for test debugging)
LOG_FILE_PATH=/app/logs/test.log

# Log rotation size in bytes
LOG_ROTATION_SIZE=5242880

# Log rotation backup count
LOG_ROTATION_COUNT=3

# ---- LLM Provider (Mock or Real) ----
# For testing, you can use a mock provider or real API
LLM_PROVIDER=qwen
DASHSCOPE_API_KEY=test_api_key_or_mock
DASHSCOPE_BASE_URL=https://dashscope.aliyuncs.com/api/v1
MODEL_NAME=qwen3-vl-plus
VISION_MODEL=qwen3-vl-plus
TEXT_MODEL=qwen3-max-preview

# LLM Parameters (faster settings for tests)
ENABLE_THINKING=false
THINKING_BUDGET=10
LLM_TEMPERATURE=0.1
LLM_TOP_P=0.9
LLM_MAX_TOKENS=500

# ---- LLM Judge (Semantic Definition Grading) ----
# Enable for integration tests
USE_LLM_JUDGE_EN2ZH=0

# Strictness: low for more lenient testing
LLM_JUDGE_STRICTNESS=low

# Treat "partial" verdict as correct in tests
LLM_JUDGE_TREAT_PARTIAL_AS_CORRECT=1

# ---- Legacy Logging (Backward Compatibility) ----
AGENT_LOG_LEVEL=DEBUG
LLM_DEBUG=1

# ---- LangSmith Tracing (Disabled in tests) ----
LANGSMITH_ENABLED=0
LANGCHAIN_TRACING_V2=0

# ---- PostgreSQL (Not used in tests) ----
POSTGRES_DB=sidebyside_test
POSTGRES_USER=test_user
POSTGRES_PASSWORD=test_password
